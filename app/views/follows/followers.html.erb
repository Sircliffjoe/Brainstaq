<% content_for :title, "Followers" %>

<!-- start of page-header -->
<section class="page-header bg-light-gray has-shapes has-bg-brash bg-brash-bottom" style="background-image: url(<%= image_path "banner.svg" %>)">
  <div class="container h-100">
    <div class="row d-flex align-items-center h-100">
      <div class="col-md-12 text-center">
        <h2 class="h1 font-weight-bold">Followers</h2>
        <nav class="mt-15" aria-label="breadcrumb">
          <ol class="breadcrumb font-weight-bold bg-transparent p-0 justify-content-center">
            <li class="breadcrumb-item"><%= link_to "Back", :back, class: "text-black-300" %></li>
            <li class="breadcrumb-item text-primary" aria-current="page">Followers</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>

  <div class="shape-1 bg-secondary shape-xs rounded-circle"></div>
  <div class="shape-2 bg-primary shape-xs-2 rounded-circle"></div>
  <div class="shape-3 bg-primary shape-sm-2 rounded-circle"></div>
  <div class="shape-4 bg-tertiary shape-xs rounded-circle"></div>
  <div class="shape-5 bg-tertiary shape-xs rounded-circle"></div>
  <div class="shape-6 bg-primary shape-sm rounded-circle"></div>
  <div class="shape-7 bg-primary shape-xs-2 rounded-circle"></div>
  <div class="shape-8 bg-secondary shape-xs rounded-circle"></div>
</section>
<!-- end of page-header -->

<main style="padding-top: 50px;">
  <div class="row justify-content-center align-self-center">
    <header class="section-header justify-content-center align-self-center mb-5" style="padding-top: 150px;">
      <h3><%= @user.first_name %>'s <span class="text-primary">Followers</span></h3>
    </header>

    <% if @user.followers.count < 1 %>
      <p class="text-center text-primary" style="font-size: 18px; font-weight:bold; font-style:italic;">
        You don't have any followers yet!
      </p>
    <% end %>
    <div class="container-fluid mb-5" style="width: 1000px" class="mx-auto">
      <div>
        <div>
          <% @user.followers.each do |follower| %>
            <div>
              <a href="<%= profile_path(follower.username) %>">
                <% if follower.image.url %>
                  <%=image_tag follower.image.url, class: 'rounded-circle img mr-2 ml-2', style:"width:28px; height: 28px;" %>
                <% else %>
                  <%= image_tag 'avatar.png', class: 'rounded-circle img mr-2 ml-2', style:"width:28px; height: 28px;" %>
                <% end %>
              </a>
              <div class="mb-2">
                <h4 class="mb-0" style="font-size: 24px;">
                  <%= link_to follower.full_name, profile_path(follower.username), class: 'text-dark' %>
                </h4>
                <span style="font-size: 14px; color: #007bff;">
                  @<%= follower.username %>
                </span>  
                <span>
                  <%#= link_to "View", profile_path(follower.username), class: "btn rounded-pill text-white float-right", style: "font-size: 12px;" %>
                </span>
              </div>
              <hr>
            </div>
          <% end %>
        </div>
      </div>  
    </div>
  </div>
</main>

<style>
  @media (max-width: 767px) {
    .btn {
      margin-right: 20px;
      margin-bottom: 20px !important;
      margin-top: -10px !important;
    }
    .img {
      margin-left: 20px !important;
      margin-right: 20px !important;
    }
    h3 {
      font-size: 24px !important;
    }
    h4 {
      font-size: 20px !important;
    }
  }
</style>

