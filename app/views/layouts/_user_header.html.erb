<nav class="navbar navbar-expand-md fixed-top navbar-light bg-light">
  <div class="container-fluid">
    <div class="navbar-brand py-0 mx-0" style="width: 500px;">
      <%= link_to (image_tag 'logo.png', style:"width:150px; height: 50px;"), root_path %>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  
    <div class="collapse navbar-collapse" id="navbarCollapse" >
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <%= link_to dashboard_path(current_user.full_name), title: "Dashboard", class: "text-secondary mb-0 mt-2", style: "font-size: 16px;" do %>
            <i class="fa fa-tachometer-alt"></i><br>
          <span class="nav-icon-text" style="font-size: 14px;"> Dashboard</span>
          <%end%>
        </li>  

        <li class="nav-item">
          <%= link_to ideas_path, class: "text-secondary mt-2 mb-0", title: "Discover", style: "font-size: 16px;" do %>
            <i class="fa fa-th-large"></i><br>
          <span class="nav-icon-text" style="font-size: 14px;"> Discover</span>
          <%end%>
        </li>

        <li class="nav-item">
          <%= link_to "#", class: "text-secondary mt-2 mb-0", title: "Marketplace", style: "font-size: 16px;" do %>
            <i class="fa fa-shopping-cart"></i><br>
          <span class="nav-icon-text" style="font-size: 14px;"> Marketplace</span>
          <%end%>
        </li>

        <li class="nav-item">
          <%= link_to new_plan_subscription_path, class: "text-secondary mt-2 mb-0", title: "Pricing", style: "font-size: 16px;" do %>
            <i class="fa fa-credit-card"></i><br>
          <span class="nav-icon-text" style="font-size: 14px;"> Pricing</span>
          <%end%>
        </li>
      </ul>

      <%# if cookies[:moon] %>
        <%#= button_to 'Light', sun_path, method: :get, class: "btn-sm btn-light rounded-pill mr-2" %>
      <%# else %>
        <%#= button_to 'Dark', moon_path, method: :get, class: "btn-sm btn-dark rounded-pill mr-2" %>
      <%# end %>
    
      <%= form_with url: search_path, method: :get, local: true, class: 'form-inline search-form' do |form| %>
        <%= form.text_field :query, value: params[:query], class: 'form-control mr-sm-2 rounded', placeholder: 'Search' %>
      <% end %>

      <%= link_to fa_icon("edit", title: "New Idea", class: "text-primary mr-2 ml-2", style: "font-size: 24px;"), new_idea_path %>  
           
        <div class="navbar-text float-right mr-5">
          <div class="dropdown ml-1">
            <a href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <% if current_user.image_url %>
                <%= image_tag current_user.image_url, class: 'rounded-circle mt-1', style:"width:28px; height: 28px; margin-right: 0px;" %>
              <% else %>
                <%= image_tag 'avatar.png', class: 'rounded-circle mt-1', style:"width:28px; height: 28px; margin-right: 0px;" %>
              <% end %>
            </a>
            <a class="btn btn-white dropdown-toggle" href="#" role="button" id="dropdownMenuLink" 
              data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" 
              style = "font-size: 15px; color: #000 !important; font-weight: bold; background-color: #F7F9F9  !important;">
              <%= current_user.first_name %>
            </a>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuLink" style="font-size: 12px;">

              <li class= "dropdown-item text-danger">  
                <%= link_to profile_path(current_user.username) do %>
                  <i class="fa fa-user mr-3"></i> Profile
                <%end%>
              </li>

              <li class= "dropdown-item text-danger">  
                <%= link_to conversations_path do %>
                  <i class="fa fa-comment-alt mr-3"></i> Messages
                <%end%>
              </li>

              <li class= "dropdown-item text-danger">  
                <%= link_to edit_user_registration_path do %>
                  <i class="fas fa-cogs mr-3"></i> Settings
                <%end%>
              </li>
              
              <div class="dropdown-divider"></div>
              
              <li class= "dropdown-item text-danger">  
                <%= link_to destroy_user_session_url, :method => 'delete', class: "text-danger" do %>
                  <i class="fa fa-sign-out-alt mr-3 text-danger"></i> Log Out
                <%end%>
              </li>

            </div>
          </div>
        </div>
    </div>
  </div>
</nav>

<style>
.nav-icon-text {
  display: block;
  font-size: 14px;
  margin-left: 5px;
  margin-right: 5px;
  margin-top: -5px;
  margin-bottom: -10px !important;
  text-align: center;
}

.nav-item {
  margin-top: -10px !important;
  text-align: center;
}
</style>
